import React, { createContext, useContext, useState, useEffect } from 'react';

type Language = 'zh' | 'en';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations = {
  zh: {
    // Common
    'common.loading': 'åŠ è½½ä¸­...',
    'common.submit': 'æäº¤',
    'common.cancel': 'å–æ¶ˆ',
    'common.delete': 'åˆ é™¤',
    'common.edit': 'ç¼–è¾‘',
    'common.save': 'ä¿å­˜',
    'common.back': 'è¿”å›',
    'common.confirm': 'ç¡®è®¤',
    'common.search': 'æœç´¢',
    
    // Auth
    'auth.login': 'ç™»å½•',
    'auth.logout': 'é€€å‡ºç™»å½•',
    'auth.username': 'ç”¨æˆ·å',
    'auth.enterUsername': 'è¯·è¾“å…¥ç”¨æˆ·å',
    'auth.quickLogin': 'æˆ–å¿«é€Ÿç™»å½•',
    'auth.enterSystem': 'è¿›å…¥ç³»ç»Ÿ',
    'auth.firstLoginGift': 'é¦–æ¬¡ç™»å½•å°†è‡ªåŠ¨å»ºè´¦æˆ·,åˆå§‹ç§¯åˆ†1000',
    'auth.localStorageNote': 'æœ¬ç³»ç»Ÿä½¿ç”¨æœ¬åœ°å­˜å‚¨,æ•°æ®ä»…ä¿å­˜åœ¨æµè§ˆå™¨ä¸­',
    'auth.pleaseLogin': 'è¯·å…ˆç™»å½•',
    'auth.returnLogin': 'è¿”å›ç™»å½•',
    'auth.quickLoginAdmin': 'ç®¡ç†å‘˜',
    'auth.quickLoginPlayerA': 'ç©å®¶A',
    'auth.quickLoginPlayerB': 'ç©å®¶B',
    
    // Navigation
    'nav.dashboard': 'æ§åˆ¶å°',
    'nav.matches': 'æ¯”èµ›è®°å½•',
    'nav.topics': 'æŠ•ç¥¨ä¸ä¸‹æ³¨',
    'nav.profile': 'ä¸ªäººä¸­å¿ƒ',
    'nav.settings': 'è®¾ç½®',
    'nav.discordBot': 'Discord Botè®¾ç½®',
    
    // Dashboard
    'dashboard.welcome': 'æ¬¢è¿å›æ¥',
    'dashboard.coach': 'æ•™ç»ƒ',
    'dashboard.readyForNextMatch': 'å‡†å¤‡å¥½åˆ†ææ‚¨çš„ä¸‹ä¸€åœºæ¯”èµ›äº†å—?',
    'dashboard.totalMatches': 'æ€»æ¯”èµ›æ•°',
    'dashboard.uploadFirstMatch': "let's continue !",
    'dashboard.avgTTD': 'å¹³å‡TTD',
    'dashboard.ttdAnalysis': 'å†³ç­–æ—¶é—´åˆ†æ',
    'dashboard.teamCollab': 'å›¢é˜ŸååŒ',
    'dashboard.comboWinRate': 'ç»„åˆèƒœç‡ç»Ÿè®¡',
    'dashboard.activeTopics': 'æ´»è·ƒè¯é¢˜',
    'dashboard.votingBetting': 'æŠ•ç¥¨ä¸ä¸‹æ³¨',
    'dashboard.quickStart': 'å¿«é€Ÿå¼€å§‹',
    'dashboard.chooseFeature': 'é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½å¼€å§‹ä½¿ç”¨',
    'dashboard.viewMatches': 'æŸ¥çœ‹æ¯”èµ›è®°å½•',
    'dashboard.joinVoting': 'å‚ä¸æŠ•ç¥¨è¯é¢˜',
    'dashboard.personalCenter': 'ä¸ªäººä¸­å¿ƒ',
    'dashboard.uploadDemo': 'ä¸Šä¼ æ¯”èµ›Demo',
    'dashboard.features': 'Recent Voting',
    
    'dashboard.smartPhaseDetection': 'æ™ºèƒ½é˜¶æ®µè¯†åˆ«',
    'dashboard.autoDetectTurningPoints': 'è‡ªåŠ¨æ£€æµ‹æ¯”èµ›ä¸­çš„å…³é”®è½¬æŠ˜ç‚¹',
    'dashboard.collabAnalysis': 'ååŒæ•ˆç‡åˆ†æ',
    'dashboard.findBestCombos': 'å‘ç°æœ€ä½³é…åˆç»„åˆ',
    'dashboard.aiSuggestions': 'AIé©±åŠ¨å»ºè®®',
    'dashboard.getActionableAdvice': 'è·å¾—å¯æ‰§è¡Œçš„æ”¹è¿›æ–¹æ¡ˆ',
    
    // Matches
    'matches.title': 'æ¯”èµ›è®°å½•',
    'matches.description': 'æŸ¥çœ‹å’Œåˆ†ææ‚¨çš„å†å²æ¯”èµ›',
    'matches.uploadDemo': 'ä¸Šä¼ Demo',
    'matches.noMatches': 'è¿˜æ²¡æœ‰æ¯”èµ›è®°å½•',
    'matches.uploadToStart': 'ä¸Šä¼ CS demoæ–‡ä»¶å¼€å§‹åˆ†ææ‚¨çš„æ¯”èµ›è¡¨ç°',
    'matches.uploadFirst': 'ä¸Šä¼ ç¬¬ä¸€åœºæ¯”èµ›',
    'matches.uploader': 'ä¸Šä¼ è€…',
    'matches.viewAnalysis': 'æŸ¥çœ‹åˆ†æ',
    'matches.winner': 'è·èƒœ',
    'matches.draw': 'å¹³å±€',
    'matches.duration': 'ç”¨æ—¶',
    'matches.viewDetail': 'æŸ¥çœ‹è¯¦æƒ…',
    'matches.pendingScore': 'ç­‰å¾…æ¯”åˆ†',
    'matches.unknownDuration': 'æœªè®°å½•',
    'matches.invalidMatch': 'æ— æ³•æ‰¾åˆ°æŒ‡å®šçš„æ¯”èµ›',
    'matches.deleteConfirm': 'ç¡®å®šè¦åˆ é™¤è¿™åœºæ¯”èµ›å—?',
    'matches.deleted': 'æ¯”èµ›å·²åˆ é™¤',

    // Analysis
    'analysis.phaseBreakdown': 'é˜¶æ®µæ—¶é•¿åˆ†å¸ƒ',
    'analysis.phaseBreakdownDesc': 'çƒ­æ‰‹/æ­£å¸¸/ä½è¿·/æ¢å¤é˜¶æ®µå æ¯”',
    'analysis.eventBreakdown': 'äº‹ä»¶åˆ†å¸ƒ',
    'analysis.eventBreakdownDesc': 'å‡»æ€ã€æ”¾åŒ…ã€æŠ€èƒ½ç­‰å…³é”®äº‹ä»¶é¢‘æ¬¡',
    'analysis.ttdDistribution': 'TTDåˆ†å¸ƒ',
    'analysis.ttdDistributionDesc': 'å†³ç­–æ—¶é—´ç›´æ–¹å›¾ (ms)',
    'analysis.voiceQuality': 'è¯­éŸ³è´¨é‡é›·è¾¾',
    'analysis.voiceQualityDesc': 'æ¸…æ™°åº¦ã€ä¿¡æ¯å¯†åº¦ä¸æ‰“æ–­ç‡',
    'analysis.comboPerformance': 'ç»„åˆèƒœç‡',
    'analysis.comboPerformanceDesc': 'å›¢é˜Ÿé…åˆç»„åˆçš„èƒœç‡è¡¨ç°',
    'analysis.noData': 'æš‚æ— æ•°æ®',
    'analysis.loading': 'åŠ è½½ä¸­...',
    'analysis.live': 'å®æ—¶åˆ†æ',

    // Match Detail
    'matchDetail.title': 'æ¯”èµ›è¯¦æƒ… #{id}',
    'matchDetail.liveData': 'å®æ—¶æ•°æ®',
    'matchDetail.overview': 'æ¯”èµ›æ¦‚è§ˆ',
    'matchDetail.overviewDesc': 'åœ°å›¾ã€æ—¶é—´ã€æ¯”åˆ†ä¸æ–‡ä»¶ä¿¡æ¯',
    'matchDetail.teams': 'å¯¹æˆ˜é˜Ÿä¼',
    'matchDetail.score': 'æ¯”åˆ†',
    'matchDetail.duration': 'æ—¶é•¿',
    'matchDetail.schedule': 'å¼€å§‹æ—¶é—´',
    'matchDetail.endTime': 'ç»“æŸæ—¶é—´',
    'matchDetail.summary': 'å…³é”®æ‘˜è¦',
    'matchDetail.summaryDesc': 'TTDã€è¯­éŸ³è´¨é‡ã€ç»„åˆèƒœç‡å¿«ç…§',
    'matchDetail.ttdLabel': 'TTD P50 / P90',
    'matchDetail.voiceQuality': 'è¯­éŸ³æ¸…æ™°åº¦',
    'matchDetail.comboLabel': 'æœ€ä½³ç»„åˆ',
    'matchDetail.phases': 'é˜¶æ®µåˆ†å¸ƒ',
    'matchDetail.phasesDesc': 'çƒ­æ‰‹/æ­£å¸¸/ä½è¿·/æ¢å¤é˜¶æ®µåŠè½¬æŠ˜ç‚¹',
    'matchDetail.noPhases': 'æš‚æ— é˜¶æ®µæ•°æ®',
    'matchDetail.phaseDuration': 'é˜¶æ®µæ—¶é•¿',
    'matchDetail.changePoint': 'è½¬æŠ˜è¯„åˆ†',
    'matchDetail.events': 'å…³é”®äº‹ä»¶',
    'matchDetail.eventsDesc': 'æŒ‰æ—¶é—´æ’åºçš„å‡»æ€ã€æ”¾åŒ…ç­‰äº‹ä»¶',
    'matchDetail.noEvents': 'æš‚æ— äº‹ä»¶è®°å½•',
    'matchDetail.ttd': 'å†³ç­–æ—¶é—´ (TTD)',
    'matchDetail.ttdDesc': 'P50/P90ã€å‡å€¼ä¸æ ·æœ¬ç»†èŠ‚',
    'matchDetail.noTtd': 'æš‚æ— TTDæ ·æœ¬',
    'matchDetail.mean': 'å‡å€¼',
    'matchDetail.samples': 'æ ·æœ¬æ•°',
    'matchDetail.noData': 'æš‚æ— æ•°æ®',
    'matchDetail.voice': 'è¯­éŸ³å›åˆ',
    'matchDetail.voiceDesc': 'æ¸…æ™°åº¦ã€ä¿¡æ¯å¯†åº¦ä¸ä¸­æ–­ç‡',
    'matchDetail.noVoice': 'æš‚æ— è¯­éŸ³è®°å½•',
    'matchDetail.clarity': 'æ¸…æ™°åº¦',
    'matchDetail.infoDensity': 'ä¿¡æ¯å¯†åº¦',
    'matchDetail.interruptions': 'æ‰“æ–­ç‡',
    'matchDetail.turns': 'å›åˆæ•°',
    'matchDetail.noTranscript': 'æœªæä¾›æ–‡æœ¬',
    'matchDetail.sentiment': 'æƒ…ç»ª',
    'matchDetail.combos': 'å›¢é˜Ÿé…åˆ',
    'matchDetail.combosDesc': 'ç»„åˆå°è¯•æ¬¡æ•°ã€æˆåŠŸæ•°ä¸èƒœç‡',
    'matchDetail.noCombos': 'æš‚æ— é…åˆæ•°æ®',
    'matchDetail.comboContext': 'é…åˆåœºæ™¯',
    'matchDetail.attempts': 'å°è¯•æ¬¡æ•°',
    'matchDetail.success': 'æˆåŠŸ/å°è¯•',
    'matchDetail.winRate': 'èƒœç‡',
    
    // Match Upload
    'upload.title': 'ä¸Šä¼ æ¯”èµ›Demo',
    'upload.description': 'ä¸Šä¼ CSå®˜æ–¹demoæ–‡ä»¶è¿›è¡Œèµ›ååˆ†æ',
    'upload.selectFile': 'é€‰æ‹©Demoæ–‡ä»¶',
    'upload.supportedFormats': 'æ”¯æŒCS:GOå’ŒCS2çš„.demæ ¼å¼æ–‡ä»¶',
    'upload.clickOrDrag': 'ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„',
    'upload.maxSize': 'æ”¯æŒ.demæ ¼å¼,æœ€å¤§100MB',
    'upload.reselect': 'é‡æ–°é€‰æ‹©',
    'upload.matchInfo': 'æ¯”èµ›ä¿¡æ¯',
    'upload.fillBasicInfo': 'å¡«å†™æ¯”èµ›çš„åŸºæœ¬ä¿¡æ¯',
    'upload.mapName': 'åœ°å›¾åç§°',
    'upload.mapPlaceholder': 'ä¾‹å¦‚: de_dust2, de_mirage',
    'upload.teamAName': 'é˜Ÿä¼Aåç§°',
    'upload.teamAPlaceholder': 'é˜Ÿä¼A',
    'upload.teamBName': 'é˜Ÿä¼Båç§°',
    'upload.teamBPlaceholder': 'é˜Ÿä¼B',
    'upload.teamAScore': 'é˜Ÿä¼Aå¾—åˆ†',
    'upload.teamBScore': 'é˜Ÿä¼Bå¾—åˆ†',
    'upload.uploading': 'ä¸Šä¼ ä¸­...',
    'upload.uploadAndAnalyze': 'ä¸Šä¼ å¹¶åˆ†æ',
    'upload.fileSelected': 'æ–‡ä»¶å·²é€‰æ‹©',
    'upload.selectDemFile': 'è¯·é€‰æ‹©.demæ ¼å¼çš„CS demoæ–‡ä»¶',
    'upload.pleaseSelectFile': 'è¯·é€‰æ‹©demoæ–‡ä»¶',
    'upload.fillComplete': 'è¯·å¡«å†™å®Œæ•´çš„æ¯”èµ›ä¿¡æ¯',
    'upload.success': 'ä¸Šä¼ æˆåŠŸ!',
    'upload.matchSaved': 'æ¯”èµ›å·²ä¿å­˜',
    'upload.failed': 'ä¸Šä¼ å¤±è´¥',
    'upload.checkFormat': 'è¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼',
    
    // Topics
    'topics.title': 'æŠ•ç¥¨ä¸ä¸‹æ³¨',
    'topics.description': 'å‚ä¸ç¤¾åŒºè¯é¢˜è®¨è®ºå’Œé¢„æµ‹',
    'topics.myPoints': 'æˆ‘çš„ç§¯åˆ†',
    'topics.createTopic': 'åˆ›å»ºè¯é¢˜',
    'topics.noTopics': 'æš‚æ— æ´»è·ƒè¯é¢˜',
    'topics.createFirst': 'åˆ›å»ºç¬¬ä¸€ä¸ªè¯é¢˜å¼€å§‹äº’åŠ¨',
    'topics.vote': 'æŠ•ç¥¨',
    'topics.bet': 'ä¸‹æ³¨',
    'topics.active': 'è¿›è¡Œä¸­',
    'topics.closed': 'å·²æˆªæ­¢',
    'topics.revealed': 'å·²æ­æ™“',
    'topics.participants': 'å‚ä¸äººæ•°',
    'topics.totalPool': 'å¥–æ± æ€»é¢',
    'topics.viewDetail': 'æŸ¥çœ‹è¯¦æƒ…',
    'topics.deleteConfirm': 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè¯é¢˜å—?',
    'topics.deleted': 'è¯é¢˜å·²åˆ é™¤',
    'topics.waitForAdmin': 'ç­‰å¾…ç®¡ç†å‘˜åˆ›å»ºè¯é¢˜',

    // Topic Detail
    'topic.backToList': 'è¿”å›è¯é¢˜åˆ—è¡¨',
    'topic.status': 'çŠ¶æ€',
    'topic.revealTime': 'æ­æ™“æ—¶é—´',
    'topic.yourChoice': 'æ‚¨çš„é€‰æ‹©',
    'topic.notParticipated': 'æœªå‚ä¸',
    'topic.pointsSpent': 'å·²æŠ•å…¥',
    'topic.points': 'ç§¯åˆ†',
    'topic.statistics': 'ç»Ÿè®¡ä¿¡æ¯',
    'topic.totalVotes': 'æ€»æŠ•ç¥¨æ•°',
    'topic.options': 'é€‰é¡¹',
    'topic.chooseOption': 'é€‰æ‹©ä¸€ä¸ªé€‰é¡¹',
    'topic.betAmount': 'ä¸‹æ³¨ç§¯åˆ†',
    'topic.minBet': 'æœ€å°‘10ç§¯åˆ†',
    'topic.insufficientPoints': 'ç§¯åˆ†ä¸è¶³',
    'topic.submitVote': 'æäº¤æŠ•ç¥¨',
    'topic.submitBet': 'æäº¤ä¸‹æ³¨',
    'topic.alreadyParticipated': 'æ‚¨å·²å‚ä¸è¿‡æ­¤è¯é¢˜',
    'topic.topicClosed': 'è¯é¢˜å·²æˆªæ­¢',
    'topic.selectOption': 'è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹',
    'topic.enterBetAmount': 'è¯·è¾“å…¥ä¸‹æ³¨ç§¯åˆ†',
    'topic.minBetRequired': 'æœ€å°‘ä¸‹æ³¨10ç§¯åˆ†',
    'topic.notEnoughPoints': 'ç§¯åˆ†ä¸è¶³',
    'topic.voteSuccess': 'æŠ•ç¥¨æˆåŠŸ!',
    'topic.betSuccess': 'ä¸‹æ³¨æˆåŠŸ!',
    'topic.pointsDeducted': 'ç§¯åˆ†å·²æ‰£é™¤',
    
    // Create Topic
    'createTopic.title': 'åˆ›å»ºè¯é¢˜',
    'createTopic.description': 'åˆ›å»ºæ–°çš„æŠ•ç¥¨æˆ–ä¸‹æ³¨è¯é¢˜',
    'createTopic.basicInfo': 'åŸºæœ¬ä¿¡æ¯',
    'createTopic.topicTitle': 'è¯é¢˜æ ‡é¢˜',
    'createTopic.titlePlaceholder': 'è¾“å…¥å¸å¼•äººçš„è¯é¢˜æ ‡é¢˜',
    'createTopic.topicDescription': 'è¯é¢˜æè¿°',
    'createTopic.descriptionPlaceholder': 'è¯¦ç»†æè¿°è¯é¢˜å†…å®¹å’Œè§„åˆ™',
    'createTopic.topicType': 'è¯é¢˜ç±»å‹',
    'createTopic.typeVote': 'æŠ•ç¥¨ - åŒ¿åå‚ä¸,æ— ç§¯åˆ†æ¶ˆè€—',
    'createTopic.typeBet': 'ä¸‹æ³¨ - éœ€è¦æŠ•å…¥ç§¯åˆ†,çŒœå¯¹å¯è·å¾—å¥–åŠ±',
    'createTopic.optionsSetup': 'é€‰é¡¹è®¾ç½®',
    'createTopic.addOption': 'æ·»åŠ é€‰é¡¹',
    'createTopic.optionPlaceholder': 'é€‰é¡¹',
    'createTopic.minTwoOptions': 'è‡³å°‘éœ€è¦2ä¸ªé€‰é¡¹',
    'createTopic.revealTime': 'æ­æ™“æ—¶é—´',
    'createTopic.selectDateTime': 'é€‰æ‹©è¯é¢˜æˆªæ­¢å’Œæ­æ™“çš„æ—¶é—´',
    'createTopic.create': 'åˆ›å»ºè¯é¢˜',
    'createTopic.fillRequired': 'è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹',
    'createTopic.success': 'è¯é¢˜åˆ›å»ºæˆåŠŸ!',
    'createTopic.adminOnly': 'åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ›å»ºè¯é¢˜',
    'createTopic.noPermission': 'æƒé™ä¸è¶³',
    
    // Profile
    'profile.title': 'ä¸ªäººä¸­å¿ƒ',
    'profile.info': 'ä¸ªäººä¿¡æ¯',
    'profile.pointsHistory': 'ç§¯åˆ†æ˜ç»†',
    'profile.username': 'ç”¨æˆ·å',
    'profile.role': 'è§’è‰²',
    'profile.roleAdmin': 'ç®¡ç†å‘˜',
    'profile.roleUser': 'æ™®é€šç”¨æˆ·',
    'profile.joinDate': 'æ³¨å†Œæ—¶é—´',
    'profile.currentPoints': 'å½“å‰ç§¯åˆ†',
    'profile.pointsSummary': 'ç§¯åˆ†ç»Ÿè®¡',
    'profile.totalEarned': 'æ€»è·å¾—',
    'profile.totalSpent': 'æ€»æ¶ˆè€—',
    'profile.balance': 'å½“å‰ä½™é¢',
    'profile.noTransactions': 'æš‚æ— ç§¯åˆ†å˜åŠ¨è®°å½•',
    'profile.transactionType': 'äº¤æ˜“ç±»å‹',
    'profile.system': 'ç³»ç»Ÿèµ é€',
    'profile.bet': 'ä¸‹æ³¨æ¶ˆè€—',
    'profile.win': 'ä¸­å¥–è·å¾—',
    'profile.refund': 'é€€æ¬¾',
    'profile.relatedTopic': 'ç›¸å…³è¯é¢˜',
    
    // Discord
    'discord.title': 'Discord Bot è®¾ç½®',
    'discord.description': 'é…ç½®å’Œç®¡ç†æ‚¨çš„Discordæœºå™¨äºº',
    'discord.tokenSetup': 'Bot Token é…ç½®',
    'discord.enterToken': 'è¾“å…¥æ‚¨çš„Discord Bot Token',
    'discord.tokenPlaceholder': 'ç²˜è´´æ‚¨çš„Bot Token',
    'discord.howToGet': 'å¦‚ä½•è·å–Token?',
    'discord.howToCreate': 'å¦‚ä½•åˆ›å»ºDiscord Bot',
    'discord.step1': 'è®¿é—® Discord Developer Portal',
    'discord.step2': 'åˆ›å»ºæ–°åº”ç”¨æˆ–é€‰æ‹©ç°æœ‰åº”ç”¨',
    'discord.step3': 'åœ¨Botè®¾ç½®ä¸­å¯ç”¨"Message Content Intent"',
    'discord.step4': 'å¤åˆ¶Bot Tokenå¹¶ç²˜è´´åˆ°ä¸Šæ–¹è¾“å…¥æ¡†',
    'discord.step5': 'ä½¿ç”¨OAuth2 URLé‚€è¯·Botåˆ°ä½ çš„æœåŠ¡å™¨',
    'discord.saveToken': 'ä¿å­˜Token',
    'discord.botStatus': 'Bot çŠ¶æ€',
    'discord.statusDescription': 'æŸ¥çœ‹Discord Botå½“å‰è¿è¡ŒçŠ¶æ€',
    'discord.runningStatus': 'è¿è¡ŒçŠ¶æ€',
    'discord.botUsername': 'Botç”¨æˆ·å',
    'discord.serverCount': 'æœåŠ¡å™¨æ•°é‡',
    'discord.servers': 'ä¸ªæœåŠ¡å™¨',
    'discord.tokenHelp': 'ä»Discord Developer Portalè·å–Bot Token',
    'discord.botConfig': 'Boté…ç½®',
    'discord.configDescription': 'é…ç½®Discord Bot Tokenå’Œæƒé™',
    'discord.online': 'åœ¨çº¿',
    'discord.offline': 'ç¦»çº¿',
    'discord.startBot': 'å¯åŠ¨Bot',
    'discord.stopBot': 'åœæ­¢Bot',
    'discord.features': 'åŠŸèƒ½ç‰¹æ€§',
    'discord.aiChat': 'AIæ•™ç»ƒé—®ç­” (!ask)',
    'discord.voiceJoin': 'è¯­éŸ³é¢‘é“è¿æ¥ (!join/!leave)',
    'discord.dataQuery': 'æ•°æ®æŸ¥è¯¢ (!stats, !matches)',
    'discord.adminOnly': 'ç®¡ç†å‘˜ä¸“ç”¨',
    'discord.tokenSaved': 'Tokenå·²ä¿å­˜',
    'discord.botStarted': 'Botå·²å¯åŠ¨',
    'discord.botStopped': 'Botå·²åœæ­¢',
    'discord.enterTokenFirst': 'è¯·å…ˆè¾“å…¥Bot Token',
    'discord.requiredPermissions': 'æ‰€éœ€æƒé™',
    'discord.permissionRead': 'è¯»å–æ¶ˆæ¯',
    'discord.permissionSend': 'å‘é€æ¶ˆæ¯',
    'discord.permissionConnect': 'è¿æ¥è¯­éŸ³é¢‘é“',
    'discord.permissionSpeak': 'åœ¨è¯­éŸ³é¢‘é“ä¸­è¯´è¯',
    'discord.availableCommands': 'å¯ç”¨å‘½ä»¤',
    'discord.commandsDescription': 'åœ¨Discordä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸Botäº’åŠ¨',
    'discord.dataSectionTitle': 'ğŸ“Š æ•°æ®æŸ¥è¯¢',
    'discord.voiceSectionTitle': 'ğŸ¯ è¯­éŸ³åŠŸèƒ½',
    'discord.interactSectionTitle': 'ğŸ² äº’åŠ¨åŠŸèƒ½',
    'discord.aiSectionTitle': 'ğŸ¤– AIåŠ©æ‰‹',
    'discord.statsCommand': 'æŸ¥çœ‹æ¯”èµ›ç»Ÿè®¡',
    'discord.matchesCommand': 'æŸ¥çœ‹æ¯”èµ›åˆ—è¡¨',
    'discord.joinCommand': 'åŠ å…¥è¯­éŸ³é¢‘é“',
    'discord.leaveCommand': 'ç¦»å¼€è¯­éŸ³é¢‘é“',
    'discord.topicsCommand': 'æŸ¥çœ‹æŠ•ç¥¨è¯é¢˜',
    'discord.voteCommand': 'å‚ä¸æŠ•ç¥¨',
    'discord.askCommand': 'å‘AIæ•™ç»ƒæé—®',
    'discord.helpCommand': 'æŸ¥çœ‹å¸®åŠ©',
    'discord.startFailed': 'å¯åŠ¨å¤±è´¥',
    'discord.stopFailed': 'åœæ­¢å¤±è´¥',
    
    // App Title
    'app.title': 'FPS å›¢é˜Ÿèµ›åæ•™ç»ƒ AI Agent',
    'app.subtitle': 'æ•°æ®é©±åŠ¨çš„FPSå›¢é˜Ÿèµ›ååˆ†æå¹³å°',
    'app.tagline': 'è®©å¤ç›˜ä»"æ„Ÿè§‰é©±åŠ¨"å˜ä¸º"æ•°æ®é©±åŠ¨ + æœ‰è¶£äº’åŠ¨"',
    'app.enterSystem': 'è¿›å…¥ç³»ç»Ÿ',
    'app.startJourney': 'ç‚¹å‡»æŒ‰é’®å¼€å§‹æ‚¨çš„æ•°æ®åˆ†æä¹‹æ—…',

    // Pages
    'pages.analysis': 'åˆ†æé¡µé¢',
    'pages.settings': 'è®¾ç½®é¡µé¢',
    'pages.matchDetail': 'æ¯”èµ›è¯¦æƒ…é¡µé¢',
    'pages.componentShowcase': 'ç»„ä»¶å±•ç¤º',
    'pages.notFound': 'é¡µé¢æœªæ‰¾åˆ°',

    // Component Showcase
    'showcase.title': 'Shadcn/ui ç»„ä»¶åº“',
    'showcase.textColors': 'æ–‡æœ¬é¢œè‰²',
    'showcase.foreground': 'å‰æ™¯ï¼ˆé»˜è®¤ï¼‰',
    'showcase.defaultText': 'ä¸»è¦å†…å®¹é»˜è®¤æ–‡æœ¬é¢œè‰²',
    'showcase.mutedForeground': 'å¼±åŒ–å‰æ™¯',
    'showcase.mutedText': 'æ¬¡è¦ä¿¡æ¯çš„å¼±åŒ–æ–‡æœ¬',
    'showcase.primary': 'ä¸»è¦',
    'showcase.primaryText': 'ä¸»è¦å“ç‰Œé¢œè‰²æ–‡æœ¬',
    'showcase.secondaryForeground': 'æ¬¡è¦å‰æ™¯',
    'showcase.secondaryText': 'æ¬¡è¦æ“ä½œæ–‡æœ¬é¢œè‰²',
    'showcase.accentForeground': 'å¼ºè°ƒå‰æ™¯',
    'showcase.accentText': 'ç”¨äºå¼ºè°ƒçš„å¼ºè°ƒæ–‡æœ¬',
    'showcase.destructive': 'ç ´åæ€§',
    'showcase.destructiveText': 'é”™è¯¯æˆ–ç ´åæ€§æ“ä½œæ–‡æœ¬',
    'showcase.cardForeground': 'å¡ç‰‡å‰æ™¯',
    'showcase.cardText': 'å¡ç‰‡èƒŒæ™¯ä¸Šçš„æ–‡æœ¬é¢œè‰²',
    'showcase.popoverForeground': 'å¼¹å‡ºå‰æ™¯',
    'showcase.popoverText': 'å¼¹å‡ºå±‚ä¸­çš„æ–‡æœ¬é¢œè‰²',
    'showcase.colorCombinations': 'é¢œè‰²ç»„åˆ',
    'showcase.primaryBg': 'ä¸»è¦èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.secondaryBg': 'æ¬¡è¦èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.mutedBg': 'å¼±åŒ–èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.accentBg': 'å¼ºè°ƒèƒŒæ™¯ä¸å¼ºè°ƒæ–‡æœ¬',
    'showcase.destructiveBg': 'ç ´åæ€§èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.cardBg': 'å¡ç‰‡èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.popoverBg': 'å¼¹å‡ºèƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',
    'showcase.backgroundBg': 'é»˜è®¤èƒŒæ™¯ä¸å‰æ™¯æ–‡æœ¬',

    // Not Found
    'notFound.title': 'é¡µé¢æœªæ‰¾åˆ°',
    'notFound.description': 'æ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨',
    'notFound.backHome': 'è¿”å›é¦–é¡µ',
  },
  en: {
    // Common
    'common.loading': 'Loading...',
    'common.submit': 'Submit',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.save': 'Save',
    'common.back': 'Back',
    'common.confirm': 'Confirm',
    'common.search': 'Search',
    
    // Auth
    'auth.login': 'Login',
    'auth.logout': 'Logout',
    'auth.username': 'Username',
    'auth.enterUsername': 'Enter username',
    'auth.quickLogin': 'Or Quick Login',
    'auth.enterSystem': 'Enter System',
    'auth.firstLoginGift': 'First login will auto-create account with 1000 points',
    'auth.localStorageNote': 'This system uses local storage, data is saved in browser only',
    'auth.pleaseLogin': 'Please login first',
    'auth.returnLogin': 'Return to Login',
    'auth.quickLoginAdmin': 'Admin',
    'auth.quickLoginPlayerA': 'Player A',
    'auth.quickLoginPlayerB': 'Player B',
    
    // Navigation
    'nav.dashboard': 'Dashboard',
    'nav.matches': 'Matches',
    'nav.topics': 'Voting & Betting',
    'nav.profile': 'Profile',
    'nav.settings': 'Settings',
    'nav.discordBot': 'Discord Bot Settings',
    
    // Dashboard
    'dashboard.welcome': 'Welcome back',
    'dashboard.coach': 'Coach',
    'dashboard.readyForNextMatch': 'Ready to analyze your next match?',
    'dashboard.totalMatches': 'Total Matches',
    'dashboard.uploadFirstMatch': "let's continue !",
    'dashboard.avgTTD': 'Avg TTD',
    'dashboard.ttdAnalysis': 'Decision Time Analysis',
    'dashboard.teamCollab': 'Team Collaboration',
    'dashboard.comboWinRate': 'Combo Win Rate Stats',
    'dashboard.activeTopics': 'Active Topics',
    'dashboard.votingBetting': 'Voting & Betting',
    'dashboard.quickStart': 'Quick Start',
    'dashboard.chooseFeature': 'Choose a feature to get started',
    'dashboard.viewMatches': 'View Match History',
    'dashboard.joinVoting': 'Join Voting Topics',
    'dashboard.personalCenter': 'Personal Center',
    'dashboard.uploadDemo': 'Upload Match Demo',
    'dashboard.features': 'Recent Voting',
    
    'dashboard.smartPhaseDetection': 'Smart Phase Detection',
    'dashboard.autoDetectTurningPoints': 'Auto-detect key turning points in matches',
    'dashboard.collabAnalysis': 'Collaboration Analysis',
    'dashboard.findBestCombos': 'Discover best team combinations',
    'dashboard.aiSuggestions': 'AI-Driven Suggestions',
    'dashboard.getActionableAdvice': 'Get actionable improvement plans',
    
    // Matches
    'matches.title': 'Match History',
    'matches.description': 'View and analyze your historical matches',
    'matches.uploadDemo': 'Upload Demo',
    'matches.noMatches': 'No match records yet',
    'matches.uploadToStart': 'Upload CS demo files to start analyzing your performance',
    'matches.uploadFirst': 'Upload First Match',
    'matches.uploader': 'Uploader',
    'matches.viewAnalysis': 'View Analysis',
    'matches.winner': 'Winner',
    'matches.draw': 'Draw',
    'matches.duration': 'Duration',
    'matches.viewDetail': 'View Detail',
    'matches.pendingScore': 'Pending score',
    'matches.unknownDuration': 'Unknown',
    'matches.invalidMatch': 'Cannot find this match',
    'matches.deleteConfirm': 'Are you sure you want to delete this match?',
    'matches.deleted': 'Match deleted',

    // Analysis
    'analysis.phaseBreakdown': 'Phase breakdown',
    'analysis.phaseBreakdownDesc': 'Share of hot/normal/slump/recovery',
    'analysis.eventBreakdown': 'Event breakdown',
    'analysis.eventBreakdownDesc': 'Frequency of kills, plants, abilities, and more',
    'analysis.ttdDistribution': 'TTD distribution',
    'analysis.ttdDistributionDesc': 'Decision time histogram (ms)',
    'analysis.voiceQuality': 'Voice quality radar',
    'analysis.voiceQualityDesc': 'Clarity, info density, and interruption rate',
    'analysis.comboPerformance': 'Combo win rate',
    'analysis.comboPerformanceDesc': 'Performance of duo/trio combinations',
    'analysis.noData': 'No data',
    'analysis.loading': 'Loading...',
    'analysis.live': 'Live analysis',

    // Match Detail
    'matchDetail.title': 'Match Detail #{id}',
    'matchDetail.liveData': 'Live data',
    'matchDetail.overview': 'Match overview',
    'matchDetail.overviewDesc': 'Map, time, score, and file info',
    'matchDetail.teams': 'Teams',
    'matchDetail.score': 'Score',
    'matchDetail.duration': 'Duration',
    'matchDetail.schedule': 'Start time',
    'matchDetail.endTime': 'End time',
    'matchDetail.summary': 'Key snapshot',
    'matchDetail.summaryDesc': 'TTD, comms quality, and combo winrate',
    'matchDetail.ttdLabel': 'TTD P50 / P90',
    'matchDetail.voiceQuality': 'Voice clarity',
    'matchDetail.comboLabel': 'Top combo',
    'matchDetail.phases': 'Phases',
    'matchDetail.phasesDesc': 'Hot/normal/slump/recovery segments',
    'matchDetail.noPhases': 'No phase data yet',
    'matchDetail.phaseDuration': 'Duration',
    'matchDetail.changePoint': 'Change point',
    'matchDetail.events': 'Events',
    'matchDetail.eventsDesc': 'Kills, plants, and other actions',
    'matchDetail.noEvents': 'No events recorded',
    'matchDetail.ttd': 'Time to decision',
    'matchDetail.ttdDesc': 'P50/P90, mean, and sample breakdown',
    'matchDetail.noTtd': 'No TTD samples',
    'matchDetail.mean': 'Mean',
    'matchDetail.samples': 'Samples',
    'matchDetail.noData': 'No data',
    'matchDetail.voice': 'Voice turns',
    'matchDetail.voiceDesc': 'Clarity, info density, interruption rate',
    'matchDetail.noVoice': 'No voice records',
    'matchDetail.clarity': 'Clarity',
    'matchDetail.infoDensity': 'Info density',
    'matchDetail.interruptions': 'Interruptions',
    'matchDetail.turns': 'Turns',
    'matchDetail.noTranscript': 'No transcript provided',
    'matchDetail.sentiment': 'Sentiment',
    'matchDetail.combos': 'Team combos',
    'matchDetail.combosDesc': 'Attempts, successes, and win rate',
    'matchDetail.noCombos': 'No combo data',
    'matchDetail.comboContext': 'Combo context',
    'matchDetail.attempts': 'Attempts',
    'matchDetail.success': 'Success / Attempts',
    'matchDetail.winRate': 'Win rate',
    
    // Match Upload
    'upload.title': 'Upload Match Demo',
    'upload.description': 'Upload CS official demo file for post-match analysis',
    'upload.selectFile': 'Select Demo File',
    'upload.supportedFormats': 'Supports CS:GO and CS2 .dem format files',
    'upload.clickOrDrag': 'Click or drag file here',
    'upload.maxSize': 'Supports .dem format, max 100MB',
    'upload.reselect': 'Reselect',
    'upload.matchInfo': 'Match Information',
    'upload.fillBasicInfo': 'Fill in basic match information',
    'upload.mapName': 'Map Name',
    'upload.mapPlaceholder': 'e.g.: de_dust2, de_mirage',
    'upload.teamAName': 'Team A Name',
    'upload.teamAPlaceholder': 'Team A',
    'upload.teamBName': 'Team B Name',
    'upload.teamBPlaceholder': 'Team B',
    'upload.teamAScore': 'Team A Score',
    'upload.teamBScore': 'Team B Score',
    'upload.uploading': 'Uploading...',
    'upload.uploadAndAnalyze': 'Upload & Analyze',
    'upload.fileSelected': 'File selected',
    'upload.selectDemFile': 'Please select a .dem format CS demo file',
    'upload.pleaseSelectFile': 'Please select demo file',
    'upload.fillComplete': 'Please fill in complete match information',
    'upload.success': 'Upload successful!',
    'upload.matchSaved': 'Match saved',
    'upload.failed': 'Upload failed',
    'upload.checkFormat': 'Please check file format',
    
    // Topics
    'topics.title': 'Voting & Betting',
    'topics.description': 'Participate in community discussions and predictions',
    'topics.myPoints': 'My Points',
    'topics.createTopic': 'Create Topic',
    'topics.noTopics': 'No active topics',
    'topics.createFirst': 'Create first topic to start interaction',
    'topics.vote': 'Vote',
    'topics.bet': 'Bet',
    'topics.active': 'Active',
    'topics.closed': 'Closed',
    'topics.revealed': 'Revealed',
    'topics.participants': 'Participants',
    'topics.totalPool': 'Total Pool',
    'topics.viewDetail': 'View Details',
    'topics.deleteConfirm': 'Are you sure you want to delete this topic?',
    'topics.deleted': 'Topic deleted',
    'topics.waitForAdmin': 'Waiting for admin to create topics',

    // Topic Detail
    'topic.backToList': 'Back to Topics',
    'topic.status': 'Status',
    'topic.revealTime': 'Reveal Time',
    'topic.yourChoice': 'Your Choice',
    'topic.notParticipated': 'Not Participated',
    'topic.pointsSpent': 'Points Spent',
    'topic.points': 'Points',
    'topic.statistics': 'Statistics',
    'topic.totalVotes': 'Total Votes',
    'topic.options': 'Options',
    'topic.chooseOption': 'Choose an option',
    'topic.betAmount': 'Bet Amount',
    'topic.minBet': 'Minimum 10 points',
    'topic.insufficientPoints': 'Insufficient points',
    'topic.submitVote': 'Submit Vote',
    'topic.submitBet': 'Submit Bet',
    'topic.alreadyParticipated': 'You have already participated',
    'topic.topicClosed': 'Topic closed',
    'topic.selectOption': 'Please select an option',
    'topic.enterBetAmount': 'Please enter bet amount',
    'topic.minBetRequired': 'Minimum bet is 10 points',
    'topic.notEnoughPoints': 'Not enough points',
    'topic.voteSuccess': 'Vote successful!',
    'topic.betSuccess': 'Bet successful!',
    'topic.pointsDeducted': 'Points deducted',
    
    // Create Topic
    'createTopic.title': 'Create Topic',
    'createTopic.description': 'Create new voting or betting topic',
    'createTopic.basicInfo': 'Basic Information',
    'createTopic.topicTitle': 'Topic Title',
    'createTopic.titlePlaceholder': 'Enter an attractive topic title',
    'createTopic.topicDescription': 'Topic Description',
    'createTopic.descriptionPlaceholder': 'Describe topic content and rules in detail',
    'createTopic.topicType': 'Topic Type',
    'createTopic.typeVote': 'Vote - Anonymous participation, no points cost',
    'createTopic.typeBet': 'Bet - Requires points, win rewards for correct guess',
    'createTopic.optionsSetup': 'Options Setup',
    'createTopic.addOption': 'Add Option',
    'createTopic.optionPlaceholder': 'Option',
    'createTopic.minTwoOptions': 'At least 2 options required',
    'createTopic.revealTime': 'Reveal Time',
    'createTopic.selectDateTime': 'Select topic deadline and reveal time',
    'createTopic.create': 'Create Topic',
    'createTopic.fillRequired': 'Please fill in all required fields',
    'createTopic.success': 'Topic created successfully!',
    'createTopic.adminOnly': 'Only admins can create topics',
    'createTopic.noPermission': 'Insufficient permissions',
    
    // Profile
    'profile.title': 'Profile',
    'profile.info': 'Personal Information',
    'profile.pointsHistory': 'Points History',
    'profile.username': 'Username',
    'profile.role': 'Role',
    'profile.roleAdmin': 'Admin',
    'profile.roleUser': 'User',
    'profile.joinDate': 'Join Date',
    'profile.currentPoints': 'Current Points',
    'profile.pointsSummary': 'Points Summary',
    'profile.totalEarned': 'Total Earned',
    'profile.totalSpent': 'Total Spent',
    'profile.balance': 'Balance',
    'profile.noTransactions': 'No transaction records',
    'profile.transactionType': 'Type',
    'profile.system': 'System Gift',
    'profile.bet': 'Bet Cost',
    'profile.win': 'Win Reward',
    'profile.refund': 'Refund',
    'profile.relatedTopic': 'Related Topic',
    
    // Discord
    'discord.title': 'Discord Bot Settings',
    'discord.description': 'Configure and manage your Discord bot',
    'discord.tokenSetup': 'Bot Token Setup',
    'discord.enterToken': 'Enter your Discord Bot Token',
    'discord.tokenPlaceholder': 'Paste your Bot Token',
    'discord.howToGet': 'How to get Token?',
    'discord.howToCreate': 'How to create a Discord Bot',
    'discord.step1': 'Visit Discord Developer Portal',
    'discord.step2': 'Create a new app or select existing',
    'discord.step3': 'Enable "Message Content Intent" in bot settings',
    'discord.step4': 'Copy the Bot Token and paste it above',
    'discord.step5': 'Invite the bot to your server via OAuth2 URL',
    'discord.saveToken': 'Save Token',
    'discord.botStatus': 'Bot Status',
    'discord.statusDescription': 'Check the current Discord bot status',
    'discord.runningStatus': 'Status',
    'discord.botUsername': 'Bot Username',
    'discord.serverCount': 'Server Count',
    'discord.servers': 'servers',
    'discord.tokenHelp': 'Get the Bot Token from the Discord Developer Portal',
    'discord.botConfig': 'Bot Configuration',
    'discord.configDescription': 'Configure Discord Bot Token and permissions',
    'discord.online': 'Online',
    'discord.offline': 'Offline',
    'discord.startBot': 'Start Bot',
    'discord.stopBot': 'Stop Bot',
    'discord.features': 'Features',
    'discord.aiChat': 'AI Coach Q&A (!ask)',
    'discord.voiceJoin': 'Voice Channel (!join/!leave)',
    'discord.dataQuery': 'Data Query (!stats, !matches)',
    'discord.adminOnly': 'Admin Only',
    'discord.tokenSaved': 'Token saved',
    'discord.botStarted': 'Bot started',
    'discord.botStopped': 'Bot stopped',
    'discord.enterTokenFirst': 'Please enter Bot Token first',
    'discord.requiredPermissions': 'Required Permissions',
    'discord.permissionRead': 'Read messages',
    'discord.permissionSend': 'Send messages',
    'discord.permissionConnect': 'Connect to voice channels',
    'discord.permissionSpeak': 'Speak in voice channels',
    'discord.availableCommands': 'Available Commands',
    'discord.commandsDescription': 'Use these commands to interact with the bot in Discord',
    'discord.dataSectionTitle': 'ğŸ“Š Data Queries',
    'discord.voiceSectionTitle': 'ğŸ¯ Voice Features',
    'discord.interactSectionTitle': 'ğŸ² Interactive Features',
    'discord.aiSectionTitle': 'ğŸ¤– AI Assistant',
    'discord.statsCommand': 'View match statistics',
    'discord.matchesCommand': 'View match list',
    'discord.joinCommand': 'Join voice channel',
    'discord.leaveCommand': 'Leave voice channel',
    'discord.topicsCommand': 'View voting topics',
    'discord.voteCommand': 'Join voting',
    'discord.askCommand': 'Ask the AI coach',
    'discord.helpCommand': 'View help',
    'discord.startFailed': 'Start failed',
    'discord.stopFailed': 'Stop failed',
    
    // App Title
    'app.title': 'FPS Team Post-Match Coach AI Agent',
    'app.subtitle': 'Data-Driven FPS Team Post-Match Analysis Platform',
    'app.tagline': 'Transform post-match review from "feeling-driven" to "data-driven + interactive"',
    'app.enterSystem': 'Enter System',
    'app.startJourney': 'Click to start your data analysis journey',

    // Pages
    'pages.analysis': 'Analysis',
    'pages.settings': 'Settings',
    'pages.matchDetail': 'Match Detail',
    'pages.componentShowcase': 'Component Showcase',
    'pages.notFound': 'Not Found',

    // Component Showcase
    'showcase.title': 'Shadcn/ui Component Library',
    'showcase.textColors': 'Text Colors',
    'showcase.foreground': 'Foreground (Default)',
    'showcase.defaultText': 'Default text color for main content',
    'showcase.mutedForeground': 'Muted Foreground',
    'showcase.mutedText': 'Muted text for secondary information',
    'showcase.primary': 'Primary',
    'showcase.primaryText': 'Primary brand color text',
    'showcase.secondaryForeground': 'Secondary Foreground',
    'showcase.secondaryText': 'Secondary action text color',
    'showcase.accentForeground': 'Accent Foreground',
    'showcase.accentText': 'Accent text for emphasis',
    'showcase.destructive': 'Destructive',
    'showcase.destructiveText': 'Error or destructive action text',
    'showcase.cardForeground': 'Card Foreground',
    'showcase.cardText': 'Text color on card backgrounds',
    'showcase.popoverForeground': 'Popover Foreground',
    'showcase.popoverText': 'Text color in popovers',
    'showcase.colorCombinations': 'Color Combinations',
    'showcase.primaryBg': 'Primary background with foreground text',
    'showcase.secondaryBg': 'Secondary background with foreground text',
    'showcase.mutedBg': 'Muted background with foreground text',
    'showcase.accentBg': 'Accent background with foreground text',
    'showcase.destructiveBg': 'Destructive background with foreground text',
    'showcase.cardBg': 'Card background with foreground text',
    'showcase.popoverBg': 'Popover background with foreground text',
    'showcase.backgroundBg': 'Default background with foreground text',

    // Not Found
    'notFound.title': 'Page Not Found',
    'notFound.description': 'The page you are looking for does not exist',
    'notFound.backHome': 'Back to Home',
  },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<Language>(() => {
    const saved = localStorage.getItem('language');
    return (saved === 'en' || saved === 'zh') ? saved : 'zh';
  });

  useEffect(() => {
    localStorage.setItem('language', language);
  }, [language]);

  const t = (key: string): string => {
    return translations[language][key as keyof typeof translations['zh']] || key;
  };

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
}

export function useLanguage() {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within LanguageProvider');
  }
  return context;
}
